# โ ููุฎุต ูููุงุช Docker

ุชู ุฅูุดุงุก ุฌููุน ุงููููุงุช ุงููุงุฒูุฉ ูุชุดุบูู ูุดุฑูุน Medication Reminder ุจุงุณุชุฎุฏุงู Docker.

## ๐ ุงููููุงุช ุงูุฑุฆูุณูุฉ ุงููููุดุฃุฉ

### 1. ูููุงุช Docker ุงูุฃุณุงุณูุฉ

```
โ Dockerfile                    - ููู ุจูุงุก ุตูุฑุฉ ุงูุชุทุจูู (PHP 8.2 + Laravel)
โ docker-compose.yml            - ุชูููู Docker Compose ููุชุทููุฑ
โ docker-compose.prod.yml       - ุชูููู Docker Compose ููุฅูุชุงุฌ
โ .dockerignore                 - ุงุณุชุจุนุงุฏ ุงููููุงุช ุบูุฑ ุงูุถุฑูุฑูุฉ
โ .env.docker.example           - ูููุฐุฌ ุฅุนุฏุงุฏุงุช ุงูุจูุฆุฉ ููู Docker
```

### 2. ูููุงุช ุงูุชูููู (ูุฌูุฏ docker/)

```
docker/
โโโ nginx/
โ   โโโ default.conf            - ุชูููู Nginx ููุชุทููุฑ
โ   โโโ default.ssl.conf        - ุชูููู Nginx ูุน SSL ููุฅูุชุงุฌ
โโโ php/
โ   โโโ local.ini               - ุฅุนุฏุงุฏุงุช PHP ูุฎุตุตุฉ
โโโ mysql/
โ   โโโ my.cnf                  - ุชูููู MySQL
โโโ supervisor/
โ   โโโ supervisord.conf        - ุฅุฏุงุฑุฉ ุงูุนูููุงุช (PHP-FPM, Queue, Scheduler)
โโโ cron/
    โโโ laravel-cron            - ููุงู Cron ููู Laravel Scheduler
```

### 3. ุฃุฏูุงุช ูุณุงุนุฏุฉ

```
โ docker-setup.sh               - ุณูุฑูุจุช ุฅุนุฏุงุฏ ุชููุงุฆู
โ Makefile                      - ุงุฎุชุตุงุฑุงุช ููุฃูุงูุฑ ุงูุดุงุฆุนุฉ
โ DOCKER_GUIDE.md               - ุฏููู ุดุงูู ุจุงูุฅูุฌููุฒูุฉ
โ DOCKER_README_AR.md           - ุฏููู ุณุฑูุน ุจุงูุนุฑุจูุฉ
```

## ๐ ููููุฉ ุงูุงุณุชุฎุฏุงู

### ุงูุทุฑููุฉ ุงูุฃููู: ุงูุฅุนุฏุงุฏ ุงูุชููุงุฆู (ุงูุฃุณูู)

```bash
# ููุญ ุตูุงุญูุงุช ุงูุชูููุฐ ููุณูุฑูุจุช
chmod +x docker-setup.sh

# ุชุดุบูู ุงูุณูุฑูุจุช
./docker-setup.sh
```

### ุงูุทุฑููุฉ ุงูุซุงููุฉ: ุจุงุณุชุฎุฏุงู Makefile

```bash
# ุนุฑุถ ุฌููุน ุงูุฃูุงูุฑ ุงููุชุงุญุฉ
make help

# ุชุซุจูุช ุงููุดุฑูุน
make install

# ุฃูุงูุฑ ุฃุฎุฑู ูููุฏุฉ
make up              # ุชุดุบูู ุงูุญุงููุงุช
make down            # ุฅููุงู ุงูุญุงููุงุช
make logs            # ุนุฑุถ ุงูุณุฌูุงุช
make shell           # ุงูุฏุฎูู ููู shell
make migrate         # ุชุดุบูู migrations
make cache           # ุชุฎุฒูู ุงูุชููููุงุช
```

### ุงูุทุฑููุฉ ุงูุซุงูุซุฉ: Docker Compose ุงููุจุงุดุฑ

```bash
# ูุณุฎ ููู ุงูุจูุฆุฉ
cp server/.env.example server/.env

# ุจูุงุก ูุชุดุบูู ุงูุญุงููุงุช
docker-compose up -d --build

# ุชูููุฏ ููุชุงุญ ุงูุชุทุจูู
docker-compose exec app php artisan key:generate

# ุชุดุบูู migrations
docker-compose exec app php artisan migrate
```

## ๐ ุงูุฑูุงุจุท ุจุนุฏ ุงูุชุดุบูู

| ุงูุฎุฏูุฉ | ุงูุฑุงุจุท |
|--------|--------|
| ุงูุชุทุจูู ุงูุฑุฆูุณู | http://localhost |
| ููุญุฉ ุงูุฅุฏุงุฑุฉ | http://localhost/admin |
| phpMyAdmin | http://localhost:8080 |

## ๐ง ุงูุฎุฏูุงุช ุงููููููููุฉ

1. **app** - ุชุทุจูู Laravel (PHP 8.2-FPM)
2. **nginx** - ุฎุงุฏู ุงูููุจ
3. **mysql** - ูุงุนุฏุฉ ุจูุงูุงุช MySQL 8.0
4. **redis** - ุงูุชุฎุฒูู ุงููุคูุช ูุงูุทูุงุจูุฑ
5. **queue** - ูุนุงูุฌ ุงูุทูุงุจูุฑ (Queue Worker)
6. **scheduler** - ูุฌุฏูู ุงูููุงู (Task Scheduler)
7. **phpmyadmin** - ุฅุฏุงุฑุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช (ุงุฎุชูุงุฑู)

## ๐ ุงูููุฒุงุช ุงูููุถููููุฉ

### ุงูุฃุฏุงุก
- โ OPcache ูุชุญุณูู ุฃุฏุงุก PHP
- โ Redis ููุชุฎุฒูู ุงููุคูุช ูุงูุฌูุณุงุช ูุงูุทูุงุจูุฑ
- โ Gzip compression ูู Nginx
- โ ุชุญุณููุงุช MySQL ููุฃุฏุงุก

### ุงูุฃูุงู (ููุฅูุชุงุฌ)
- โ SSL/TLS support
- โ Security headers (HSTS, X-Frame-Options, CSP, etc.)
- โ ููุน ุงููุตูู ูููููุงุช ุงูุญุณุงุณุฉ
- โ Read-only volumes ููููุฏ ูู ุงูุฅูุชุงุฌ

### ุงูุนูููุงุช ุงูุชููุงุฆูุฉ
- โ Queue Workers ููุนุงูุฌุฉ ุงูููุงู ุงูุฎูููุฉ
- โ Task Scheduler ูุชุดุบูู ุงูููุงู ุงููุฌุฏููุฉ
- โ Supervisor ูุฅุฏุงุฑุฉ ุงูุนูููุงุช
- โ Auto-restart ููุญุงููุงุช

### ุงูุชุทููุฑ
- โ Hot reload ููุชุนุฏููุงุช
- โ phpMyAdmin ูุฅุฏุงุฑุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช
- โ ุณุฌูุงุช ููุตูุฉ ูุฌููุน ุงูุฎุฏูุงุช

## ๐ก ูุตุงุฆุญ ูููุฉ

### ููุชุทููุฑ
- ุงุณุชุฎุฏู `docker-compose.yml`
- ุงูุณุฌูุงุช ุนูู ูุณุชูู DEBUG
- phpMyAdmin ูุชุงุญ

### ููุฅูุชุงุฌ
1. ุงุณุชุฎุฏู `docker-compose.prod.yml`
2. ูู ุจุชุญุฏูุซ `.env` ูู `.env.docker.example`
3. ุบููุฑ ุฌููุน ูููุงุช ุงููุฑูุฑ ุงูุงูุชุฑุงุถูุฉ:
   - DB_PASSWORD
   - DB_ROOT_PASSWORD
   - REDIS_PASSWORD
4. ุนุทูู phpMyAdmin (ุงุญุฐูู ูู docker-compose.prod.yml)
5. ุงุณุชุฎุฏู SSL certificates ุญููููุฉ
6. ูู ุจุฅุนุฏุงุฏ backup ููุชุธู

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ูุดููุฉ ุงูุฃุฐููุงุช
```bash
make permissions
```

### ุฅุนุงุฏุฉ ุจูุงุก ูุงููุฉ
```bash
make clean-all
make build
make up
```

### ุนุฑุถ ุงูุณุฌูุงุช
```bash
make logs
# ุฃู ูุฎุฏูุฉ ูุญุฏุฏุฉ
docker-compose logs -f app
```

## ๐ ุงููุฑุงุฌุน ูุงููุซุงุฆู

- **ุงูุฏููู ุงูุดุงูู**: ุงูุฑุฃ `DOCKER_GUIDE.md` ููุชูุงุตูู ุงููุงููุฉ
- **ุงูุฏููู ุงูุณุฑูุน ุงูุนุฑุจู**: ุงูุฑุฃ `DOCKER_README_AR.md`
- **ุฃูุงูุฑ Makefile**: ุดุบูู `make help`

## โจ ุงูุฎุทูุงุช ุงูุชุงููุฉ

ุจุนุฏ ุชุดุบูู Docker ุจูุฌุงุญ:

1. โ ุงูุชุญ http://localhost ููุชุฃูุฏ ูู ุนูู ุงูุชุทุจูู
2. โ ูู ุจุฅูุดุงุก ูุณุชุฎุฏู admin ููู Filament:
   ```bash
   docker-compose exec app php artisan make:filament-user
   ```
3. โ ุชุฃูุฏ ูู ุนูู Queue ู Scheduler:
   ```bash
   docker-compose logs -f queue
   docker-compose logs -f scheduler
   ```
4. โ ุงุฎุชุจุฑ ุฅุฑุณุงู ุงูุฅุดุนุงุฑุงุช ูุงูููุงู ุงููุฌุฏููุฉ

## ๐ ุชู ุจูุฌุงุญ!

ุฌููุน ูููุงุช Docker ุฌุงูุฒุฉ ููุงุณุชุฎุฏุงู. ููููู ุงูุขู:
- ุชุดุบูู ุงูุชุทุจูู ุจุฃูุฑ ูุงุญุฏ
- ูุดุฑู ููุฅูุชุงุฌ ุจุณูููุฉ
- ุฅุฏุงุฑุฉ ุฌููุน ุงูุฎุฏูุงุช ุจููุงุกุฉ

---

**ุขุฎุฑ ุชุญุฏูุซ**: 2025-12-23
**ุงูุฅุตุฏุงุฑ**: 1.0.0
